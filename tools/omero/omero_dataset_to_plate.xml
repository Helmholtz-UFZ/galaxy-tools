<tool id="omero_dataset_to_plate" name="OMERO Dataset to Plate" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@" license="MIT">
   <description> with omero-py </description>
   <macros>
       <import>macros.xml</import>
       <token name="@VERSION_SUFFIX@">3</token>
   </macros>
   <xrefs>
       <xref type="bio.tools">omero</xref>
   </xrefs>
   <expand macro="omeropy_requirements"/>
   <command detect_errors="exit_code"><![CDATA[
       python $__tool_directory__/omero_dataset_to_plate.py
       --credential-file '$credentials'
       @HOST_PORT@
       --dataset_id '$dataset_id'
       --log_file '$log'
   ]]></command>
   <configfiles>
       <expand macro="credentials"/>
   </configfiles>
   <inputs>
       <expand macro="host_port"/>
       <param name="dataset_id" type="integer" optional="false" label="Dataset ID to convert to a plate"/>
   </inputs>
   <outputs>
       <data name="log" format="txt"/>
   </outputs>
   <tests>
       <test>
           <param name="omero_host" value="host.docker.internal"/>
           <param name="omero_port" value="6064"/>
           <param name="dataset_id" value="2"/>
           <param name="test_username" value="root"/>
           <param name="test_password" value="omero"/>
           <output name="log" value="dataset_conversion_log.txt" ftype="txt">
               <assert_contents>
                   <has_text text="SUCCESS: Images from Dataset 2 successfully added to Plate 1"/>
               </assert_contents>
           </output>
       </test>
   </tests>
   <help>
       @SECURITY_DISCLAIMER@
   </help>
   <citations>
       <citation type="doi">10.1038/nmeth.1896</citation>
   </citations>
</tool>
